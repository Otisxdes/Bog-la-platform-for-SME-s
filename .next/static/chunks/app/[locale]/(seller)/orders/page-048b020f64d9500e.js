(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{3241:function(e,t,a){Promise.resolve().then(a.bind(a,8340))},8340:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(7437),r=a(2265),l=a(9116),n=a(3687),i=a(2586);function d(){let e=(0,i.useTranslations)("orders"),[t,a]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0),[x,o]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async function(){try{let e=await (0,l.a)("/api/orders");if(!e.ok)throw Error("Failed to fetch orders");let t=await e.json();a(t.orders)}catch(e){o(e.message||"Failed to load orders")}finally{c(!1)}})()},[]),d)?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):x?(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,s.jsx)("p",{className:"text-red-800",children:x})}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:e("title")}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.time")}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.buyerName")}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.product")}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.size")}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.paymentStatus")}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.deliveryStatus")}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.actions")})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===t.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:e("noOrders")})}):t.map(t=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(t.createdAt).toLocaleString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.contactSnapshot.fullName}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.checkoutLink.name}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:t.selectedSize})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("paid"===t.paymentStatus?"bg-green-100 text-green-800":"cancelled"===t.paymentStatus?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:t.paymentStatus})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("delivered"===t.deliveryStatus?"bg-green-100 text-green-800":"sent"===t.deliveryStatus?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:t.deliveryStatus})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsx)(n.rU,{href:"/orders/".concat(t.id),className:"text-blue-600 hover:text-blue-900",children:e("table.view")})})]},t.id))})]})})]})}},3687:function(e,t,a){"use strict";a.d(t,{jD:function(){return d},rU:function(){return n},tv:function(){return c}});var s=a(7366),r=a(3795);let l=(0,s.R)({locales:["ru","uz"],defaultLocale:"ru",localePrefix:"as-needed"}),{Link:n,redirect:i,usePathname:d,useRouter:c}=(0,r.os)(l)},9116:function(e,t,a){"use strict";async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new Headers(t.headers);{let e=localStorage.getItem("bogla_seller");if(e)try{let t=JSON.parse(e);t.id&&a.set("X-Seller-ID",t.id)}catch(e){console.error("Failed to parse seller data:",e)}}return fetch(e,{...t,headers:a})}a.d(t,{a:function(){return s}})}},function(e){e.O(0,[171,673,971,117,744],function(){return e(e.s=3241)}),_N_E=e.O()}]);