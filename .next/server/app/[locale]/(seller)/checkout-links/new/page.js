(()=>{var e={};e.id=361,e.ids=[361],e.modules={7713:(e,r,t)=>{var s={"./en.json":[9316,316],"./ru.json":[375,375],"./uz.json":[2056,56]};function a(e){if(!t.o(s,e))return Promise.resolve().then(()=>{var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r});var r=s[e],a=r[0];return t.e(r[1]).then(()=>t.t(a,19))}a.keys=()=>Object.keys(s),a.id=7713,e.exports=a},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7783:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(1928),t(7090),t(9958),t(1506),t(5866);var s=t(3191),a=t(8716),l=t(7922),o=t.n(l),i=t(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(r,n);let c=["",{children:["[locale]",{children:["(seller)",{children:["checkout-links",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1928)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/checkout-links/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7090)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9958)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/checkout-links/new/page.tsx"],u="/[locale]/(seller)/checkout-links/new/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[locale]/(seller)/checkout-links/new/page",pathname:"/[locale]/checkout-links/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8274:(e,r,t)=>{Promise.resolve().then(t.bind(t,6783))},1722:(e,r,t)=>{Promise.resolve().then(t.bind(t,7023))},3607:()=>{},2311:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},335:(e,r,t)=>{Promise.resolve().then(t.bind(t,8027)),Promise.resolve().then(t.bind(t,3805)),Promise.resolve().then(t.bind(t,4584))},6783:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(326),a=t(7577),l=t(425),o=t(4723),i=t(4064),n=t(3844),c=t(4143),d=t(6824);function u(){let e=(0,l.tv)();(0,n.useLocale)();let r=(0,n.useTranslations)(),[t,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),{register:p,handleSubmit:g,formState:{errors:h},watch:b,control:y}=(0,o.cI)({resolver:(0,i.F)(c.d$),defaultValues:{currency:"UZS",defaultQty:1,sizes:[""],deliveryOptions:{courierCity:!1,pickup:!1,region:!1}}}),{fields:f,append:v,remove:k}=(0,o.Dq)({control:y,name:"sizes"}),j=b("deliveryOptions"),N=async r=>{x(!0),u(null);try{let t={...r,sizes:r.sizes.filter(e=>""!==e.trim()),maxQty:isNaN(r.maxQty)?void 0:r.maxQty,imageUrl:r.imageUrl?.trim()||""};console.log("Submitting checkout link data:",t);let s=await (0,d.a)("/api/checkout-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){let e=await s.json();console.error("API Error:",e);let r=e.details?`${e.error}: ${JSON.stringify(e.details)}`:e.error||"Failed to create checkout link";throw Error(r)}e.push("/checkout-links")}catch(e){console.error("Form submission error:",e),u(e.message||"Failed to create checkout link. Please try again."),x(!1)}};return(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:r("checkoutLinks.create.title")}),t&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:s.jsx("p",{className:"text-sm text-red-800",children:t})}),(0,s.jsxs)("form",{onSubmit:g(N),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("checkoutLinks.create.productName")," *"]}),s.jsx("input",{type:"text",...p("name"),placeholder:r("checkoutLinks.create.productNamePlaceholder"),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),h.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("checkoutLinks.create.size")," *"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[f.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",...p(`sizes.${t}`),placeholder:r("checkoutLinks.create.sizePlaceholder"),className:"flex-1 px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),f.length>1&&s.jsx("button",{type:"button",onClick:()=>k(t),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:"Remove"})]},e.id)),s.jsx("button",{type:"button",onClick:()=>v(""),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"+ Add another size"})]}),h.sizes&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(h.sizes)?h.sizes.find(e=>e?.message)?.message:h.sizes.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkoutLinks.create.productImage")}),s.jsx("input",{type:"url",...p("imageUrl"),placeholder:r("checkoutLinks.create.productImagePlaceholder"),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),h.imageUrl&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.imageUrl.message}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:r("checkoutLinks.create.productImageHelp")})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("checkoutLinks.create.price")," *"]}),s.jsx("input",{type:"number",step:"1",...p("price",{valueAsNumber:!0}),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),h.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.price.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkoutLinks.create.currency")}),s.jsx("input",{type:"text",...p("currency"),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkoutLinks.create.defaultQty")}),s.jsx("input",{type:"number",step:"1",...p("defaultQty",{valueAsNumber:!0}),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkoutLinks.create.maxQty")}),s.jsx("input",{type:"number",step:"1",...p("maxQty",{valueAsNumber:!0}),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r("checkoutLinks.create.deliveryOptions")," *"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",...p("deliveryOptions.courierCity"),className:"w-4 h-4 text-blue-400 bg-transparent border-gray-100 rounded focus:ring-0 focus:border-gray-200 transition-colors cursor-pointer hover:border-gray-200"}),s.jsx("span",{className:"ml-3 text-sm text-gray-700",children:r("checkoutLinks.create.courierCity")})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",...p("deliveryOptions.pickup"),className:"w-4 h-4 text-blue-400 bg-transparent border-gray-100 rounded focus:ring-0 focus:border-gray-200 transition-colors cursor-pointer hover:border-gray-200"}),s.jsx("span",{className:"ml-3 text-sm text-gray-700",children:r("checkoutLinks.create.pickup")})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",...p("deliveryOptions.region"),className:"w-4 h-4 text-blue-400 bg-transparent border-gray-100 rounded focus:ring-0 focus:border-gray-200 transition-colors cursor-pointer hover:border-gray-200"}),s.jsx("span",{className:"ml-3 text-sm text-gray-700",children:r("checkoutLinks.create.regionDelivery")})]})]}),!j?.courierCity&&!j?.pickup&&!j?.region&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r("checkoutLinks.create.deliveryError")})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("checkoutLinks.create.paymentNote")," *"]}),s.jsx("textarea",{...p("paymentNote"),rows:4,placeholder:r("checkoutLinks.create.paymentNotePlaceholder"),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),h.paymentNote&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.paymentNote.message})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("button",{type:"submit",disabled:m,className:"bg-blue-600 text-white px-6 py-2 rounded-md font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?r("checkoutLinks.create.submitting"):r("checkoutLinks.create.submit")}),s.jsx("button",{type:"button",onClick:()=>e.back(),className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-md font-medium hover:bg-gray-300",children:r("common.cancel")})]})]})]})}},7023:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(326),a=t(7577),l=t(425),o=t(3844),i=t(5738);function n({children:e}){let r=(0,l.jD)(),t=(0,l.tv)(),n=(0,o.useTranslations)("nav"),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1);if(r?.includes("/login"))return e;if(!u)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});if(!c)return null;let x=[{href:"/dashboard",label:n("dashboard")},{href:"/checkout-links",label:n("checkoutLinks")},{href:"/orders",label:n("orders")},{href:"/customers",label:n("customers")}];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0 flex items-center",children:s.jsx("h1",{className:"text-xl font-bold",children:"Bog'la"})}),s.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:x.map(e=>s.jsx(l.rU,{href:e.href,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${r===e.href?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.label},e.href))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(i.W,{}),s.jsx("span",{className:"text-sm text-gray-700",children:c.name}),s.jsx("button",{onClick:()=>{localStorage.removeItem("bogla_seller_token"),localStorage.removeItem("bogla_seller"),t.push("/login")},className:"text-sm text-gray-500 hover:text-gray-700 ml-2",children:n("logout")})]})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})}},5738:(e,r,t)=>{"use strict";t.d(r,{W:()=>o});var s=t(326),a=t(3844),l=t(425);function o(){let e=(0,a.useLocale)(),r=(0,l.tv)(),t=(0,l.jD)(),o=(0,a.useTranslations)("common"),i=e=>{r.replace(t,{locale:e})};return(0,s.jsxs)("select",{value:e,onChange:e=>i(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm text-gray-700 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 transition-colors","aria-label":o("language"),children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"uz",children:"O'zbek"}),s.jsx("option",{value:"ru",children:"Русский"})]})}},425:(e,r,t)=>{"use strict";t.d(r,{rU:()=>o,jD:()=>n,tv:()=>c});var s=t(5750),a=t(4276);let l=(0,s.R)({locales:["en","uz","ru"],defaultLocale:"en",localePrefix:"as-needed"}),{Link:o,redirect:i,usePathname:n,useRouter:c}=(0,a.os)(l)},6824:(e,r,t)=>{"use strict";async function s(e,r={}){let t=new Headers(r.headers);return fetch(e,{...r,headers:t})}t.d(r,{a:()=>s})},4143:(e,r,t)=>{"use strict";t.d(r,{d$:()=>a,dm:()=>l});var s=t(770);let a=s.Ry({name:s.Z_().min(1,"Product name is required"),price:s.Rx().int().positive("Price must be positive"),currency:s.Z_().default("UZS"),defaultQty:s.Rx().int().positive().default(1),maxQty:s.Rx().int().positive().optional().nullable(),imageUrl:s.G0([s.Z_().url("Must be a valid URL"),s.i0("")]).optional(),sizes:s.IX(s.Z_().min(1,"Size cannot be empty")).min(1,"At least one size is required"),deliveryOptions:s.Ry({courierCity:s.O7().optional(),pickup:s.O7().optional(),region:s.O7().optional()}).refine(e=>e.courierCity||e.pickup||e.region,{message:"At least one delivery option must be selected"}),paymentNote:s.Z_().min(1,"Payment instructions are required")});s.Ry({checkoutLinkId:s.Z_().min(1),quantity:s.Rx().int().positive("Quantity must be positive"),selectedSize:s.Z_().min(1,"Size selection is required"),deliveryMethod:s.Z_().min(1,"Delivery method is required"),buyer:s.Ry({fullName:s.Z_().min(1,"Full name is required"),phone:s.Z_().regex(/^\+998\d{9}$/,"Invalid Uzbek phone number format"),city:s.Z_().min(1,"City is required"),address:s.Z_().min(1,"Address is required"),username:s.Z_().optional()}),saveDetails:s.O7().default(!1)}),s.Ry({paymentStatus:s.Km(["new","paid","cancelled"]).optional(),deliveryStatus:s.Km(["pending","sent","delivered"]).optional()});let l=s.Ry({email:s.Z_().email("Invalid email address"),password:s.Z_().min(1,"Password is required")})},1928:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/checkout-links/new/page.tsx#default`)},7090:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/layout.tsx#default`)},9958:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c,generateStaticParams:()=>n});var s=t(9510),a=t(6042),l=t(5031),o=t(8585),i=t(1555);function n(){return i.DI.locales.map(e=>({locale:e}))}async function c({children:e,params:r}){let{locale:t}=await r;i.DI.locales.includes(t)||(0,o.notFound)();let n=await (0,l.Z)();return s.jsx("html",{lang:t,children:s.jsx("body",{children:s.jsx(a.Z,{messages:n,locale:t,children:e})})})}},1506:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a,metadata:()=>s}),t(7272);let s={title:"Bog'la for SME's",description:"Payment links and order management for small businesses"};function a({children:e}){return e}},6013:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var s=t(107),a=t(1555);let l=(0,s.Z)(async({requestLocale:e})=>{let r=await e;return r&&a.DI.locales.includes(r)||(r=a.DI.defaultLocale),{locale:r,messages:(await t(7713)(`./${r}.json`)).default}})},1555:(e,r,t)=>{"use strict";t.d(r,{DI:()=>l});var s=t(8952),a=t(4352);let l=(0,s.R)({locales:["en","uz","ru"],defaultLocale:"en",localePrefix:"as-needed"}),{Link:o,redirect:i,usePathname:n,useRouter:c}=(0,a.Z)(l)},7272:()=>{}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,49,964,148],()=>t(7783));module.exports=s})();