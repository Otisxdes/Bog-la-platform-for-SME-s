(()=>{var e={};e.id=361,e.ids=[361],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7783:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(1928),t(7090),t(3354),t(1506),t(5866);var s=t(3191),a=t(8716),o=t(7922),i=t.n(o),l=t(5231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(r,n);let c=["",{children:["[locale]",{children:["(seller)",{children:["checkout-links",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1928)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/checkout-links/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7090)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3354)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/checkout-links/new/page.tsx"],u="/[locale]/(seller)/checkout-links/new/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[locale]/(seller)/checkout-links/new/page",pathname:"/[locale]/checkout-links/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8274:(e,r,t)=>{Promise.resolve().then(t.bind(t,6783))},6783:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(326),a=t(7577),o=t(425),i=t(4723),l=t(4064),n=t(3844),c=t(4143),d=t(6824);function u(){let e=(0,o.tv)();(0,n.useLocale)();let r=(0,n.useTranslations)(),[t,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(!1),{register:x,handleSubmit:g,formState:{errors:y},watch:b,control:h}=(0,i.cI)({resolver:(0,l.F)(c.d$),defaultValues:{currency:"UZS",defaultQty:1,sizes:[""],deliveryOptions:{courierCity:!1,pickup:!1,region:!1}}}),{fields:k,append:f,remove:v}=(0,i.Dq)({control:h,name:"sizes"}),j=b("deliveryOptions"),N=async r=>{p(!0),u(null);try{let t={...r,sizes:r.sizes.filter(e=>""!==e.trim()),maxQty:isNaN(r.maxQty)?void 0:r.maxQty,imageUrl:r.imageUrl?.trim()||""},s=await (0,d.a)("/api/checkout-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){let e=await s.json(),r=e.details?`${e.error}: ${JSON.stringify(e.details)}`:e.error||"Failed to create checkout link";throw Error(r)}e.push("/checkout-links")}catch(e){u(e.message||"Failed to create checkout link. Please try again."),p(!1)}};return(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:r("checkoutLinks.create.title")}),t&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:s.jsx("p",{className:"text-sm text-red-800",children:t})}),(0,s.jsxs)("form",{onSubmit:g(N),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("checkoutLinks.create.productName")," *"]}),s.jsx("input",{type:"text",...x("name"),placeholder:r("checkoutLinks.create.productNamePlaceholder"),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),y.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("checkoutLinks.create.size")," *"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[k.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",...x(`sizes.${t}`),placeholder:r("checkoutLinks.create.sizePlaceholder"),className:"flex-1 px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),k.length>1&&s.jsx("button",{type:"button",onClick:()=>v(t),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:"Remove"})]},e.id)),s.jsx("button",{type:"button",onClick:()=>f(""),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"+ Add another size"})]}),y.sizes&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(y.sizes)?y.sizes.find(e=>e?.message)?.message:y.sizes.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkoutLinks.create.productImage")}),s.jsx("input",{type:"url",...x("imageUrl"),placeholder:r("checkoutLinks.create.productImagePlaceholder"),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),y.imageUrl&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.imageUrl.message}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:r("checkoutLinks.create.productImageHelp")})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("checkoutLinks.create.price")," *"]}),s.jsx("input",{type:"number",step:"1",...x("price",{valueAsNumber:!0}),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),y.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.price.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkoutLinks.create.currency")}),s.jsx("input",{type:"text",...x("currency"),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkoutLinks.create.defaultQty")}),s.jsx("input",{type:"number",step:"1",...x("defaultQty",{valueAsNumber:!0}),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkoutLinks.create.maxQty")}),s.jsx("input",{type:"number",step:"1",...x("maxQty",{valueAsNumber:!0}),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r("checkoutLinks.create.deliveryOptions")," *"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",...x("deliveryOptions.courierCity"),className:"w-4 h-4 text-blue-400 bg-transparent border-gray-100 rounded focus:ring-0 focus:border-gray-200 transition-colors cursor-pointer hover:border-gray-200"}),s.jsx("span",{className:"ml-3 text-sm text-gray-700",children:r("checkoutLinks.create.courierCity")})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",...x("deliveryOptions.pickup"),className:"w-4 h-4 text-blue-400 bg-transparent border-gray-100 rounded focus:ring-0 focus:border-gray-200 transition-colors cursor-pointer hover:border-gray-200"}),s.jsx("span",{className:"ml-3 text-sm text-gray-700",children:r("checkoutLinks.create.pickup")})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",...x("deliveryOptions.region"),className:"w-4 h-4 text-blue-400 bg-transparent border-gray-100 rounded focus:ring-0 focus:border-gray-200 transition-colors cursor-pointer hover:border-gray-200"}),s.jsx("span",{className:"ml-3 text-sm text-gray-700",children:r("checkoutLinks.create.regionDelivery")})]})]}),!j?.courierCity&&!j?.pickup&&!j?.region&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r("checkoutLinks.create.deliveryError")})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("checkoutLinks.create.paymentNote")," *"]}),s.jsx("textarea",{...x("paymentNote"),rows:4,placeholder:r("checkoutLinks.create.paymentNotePlaceholder"),className:"w-full px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:border-gray-300 transition-colors"}),y.paymentNote&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.paymentNote.message})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("button",{type:"submit",disabled:m,className:"bg-blue-600 text-white px-6 py-2 rounded-md font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?r("checkoutLinks.create.submitting"):r("checkoutLinks.create.submit")}),s.jsx("button",{type:"button",onClick:()=>e.back(),className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-md font-medium hover:bg-gray-300",children:r("common.cancel")})]})]})]})}},6824:(e,r,t)=>{"use strict";async function s(e,r={}){let t=new Headers(r.headers);return fetch(e,{...r,headers:t})}t.d(r,{a:()=>s})},4143:(e,r,t)=>{"use strict";t.d(r,{d$:()=>a,dm:()=>o});var s=t(770);let a=s.Ry({name:s.Z_().min(1,"Product name is required"),price:s.Rx().int().positive("Price must be positive"),currency:s.Z_().default("UZS"),defaultQty:s.Rx().int().positive().default(1),maxQty:s.Rx().int().positive().optional().nullable(),imageUrl:s.G0([s.Z_().url("Must be a valid URL"),s.i0("")]).optional(),sizes:s.IX(s.Z_().min(1,"Size cannot be empty")).min(1,"At least one size is required"),deliveryOptions:s.Ry({courierCity:s.O7().optional(),pickup:s.O7().optional(),region:s.O7().optional()}).refine(e=>e.courierCity||e.pickup||e.region,{message:"At least one delivery option must be selected"}),paymentNote:s.Z_().min(1,"Payment instructions are required")});s.Ry({checkoutLinkId:s.Z_().min(1),quantity:s.Rx().int().positive("Quantity must be positive"),selectedSize:s.Z_().min(1,"Size selection is required"),deliveryMethod:s.Z_().min(1,"Delivery method is required"),buyer:s.Ry({fullName:s.Z_().min(1,"Full name is required"),phone:s.Z_().regex(/^\+998\d{9}$/,"Invalid Uzbek phone number format"),city:s.Z_().min(1,"City is required"),address:s.Z_().min(1,"Address is required"),username:s.Z_().optional()}),saveDetails:s.O7().default(!1)}),s.Ry({paymentStatus:s.Km(["new","paid","cancelled"]).optional(),deliveryStatus:s.Km(["pending","sent","delivered"]).optional()});let o=s.Ry({email:s.Z_().email("Invalid email address"),password:s.Z_().min(1,"Password is required")})},1928:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(seller)/checkout-links/new/page.tsx#default`)}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,49,818,844,946,148,460],()=>t(7783));module.exports=s})();