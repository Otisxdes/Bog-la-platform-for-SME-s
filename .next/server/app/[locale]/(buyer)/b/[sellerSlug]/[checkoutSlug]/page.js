(()=>{var e={};e.id=917,e.ids=[917],e.modules={7713:(e,r,s)=>{var t={"./en.json":[9316,316],"./ru.json":[375,375],"./uz.json":[2056,56]};function l(e){if(!s.o(t,e))return Promise.resolve().then(()=>{var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r});var r=t[e],l=r[0];return s.e(r[1]).then(()=>s.t(l,19))}l.keys=()=>Object.keys(t),l.id=7713,e.exports=l},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7022:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(9817),s(9958),s(1506),s(5866);var t=s(3191),l=s(8716),a=s(7922),o=s.n(a),n=s(5231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(r,i);let d=["",{children:["[locale]",{children:["(buyer)",{children:["b",{children:["[sellerSlug]",{children:["[checkoutSlug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9817)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(buyer)/b/[sellerSlug]/[checkoutSlug]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9958)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(buyer)/b/[sellerSlug]/[checkoutSlug]/page.tsx"],u="/[locale]/(buyer)/b/[sellerSlug]/[checkoutSlug]/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/[locale]/(buyer)/b/[sellerSlug]/[checkoutSlug]/page",pathname:"/[locale]/b/[sellerSlug]/[checkoutSlug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1328:(e,r,s)=>{Promise.resolve().then(s.bind(s,708))},3607:()=>{},2311:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},335:(e,r,s)=>{Promise.resolve().then(s.bind(s,8027)),Promise.resolve().then(s.bind(s,3805)),Promise.resolve().then(s.bind(s,4584))},708:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>b});var t=s(326),l=s(7577),a=s(4723),o=s(4064),n=s(770),i=s(425),d=s(3844);let c=(0,s(2881).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),u=["Tashkent","Samarkand","Bukhara","Andijan","Namangan","Fergana","Nukus","Qarshi","Guliston","Termez","Jizzakh","Navoiy","Urgench","Kokand","Margilan","Other"],m=/^\+998\d{9}$/,x="w-full px-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 transition-colors placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400",h="w-full px-4 pr-10 py-2.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg%20xmlns%3d%22http%3a%2f%2fwww.w3.org%2f2000%2fsvg%22%20width%3d%2220%22%20height%3d%2220%22%20viewBox%3d%220%200%2024%2024%22%20fill%3d%22none%22%20stroke%3d%22%239ca3af%22%20stroke-width%3d%222%22%3e%3cpath%20d%3d%22m6%209%206%206%206-6%22%2f%3e%3c%2fsvg%3e')] bg-[length:20px] bg-[right_12px_center] bg-no-repeat";function b({params:e}){let r=(0,l.use)(e),s=(0,d.useTranslations)("buyer.checkout"),b=(0,i.tv)(),[g,p]=(0,l.useState)(null),[y,f]=(0,l.useState)(!0),[v,j]=(0,l.useState)(!1),[N,k]=(0,l.useState)(null),[w,S]=(0,l.useState)(1),[P,D,_]=function(e,r){let[s,t]=(0,l.useState)(null),[a,o]=(0,l.useState)(!1),n=(0,l.useCallback)(r=>{if(e)try{let e=r instanceof Function?r(s):r;t(e)}catch(r){console.warn(`Error setting localStorage key "${e}":`,r)}},[e,s]);return[s,n,(0,l.useCallback)(()=>{if(e)try{t(null)}catch(r){console.warn(`Error removing localStorage key "${e}":`,r)}},[e,null])]}(g?`bogla_${g.seller.id}_buyerProfile`:"",null),C=n.Ry({fullName:n.Z_().min(1,s("errors.fullNameRequired")),phone:n.Z_().regex(m,s("errors.phoneInvalid")),city:n.Z_().min(1,s("errors.cityRequired")),address:n.Z_().min(1,s("errors.addressRequired")),username:n.Z_().optional(),selectedSize:n.Z_().min(1,s("errors.sizeRequired")),deliveryMethod:n.Z_().min(1,s("errors.deliveryRequired")),quantity:n.Rx().int().positive().min(1),saveDetails:n.Km(["no","yes"]).default("no")}),{register:M,handleSubmit:E,formState:{errors:q},setValue:z,watch:Z}=(0,a.cI)({resolver:(0,o.F)(C),defaultValues:{quantity:1,saveDetails:"no"}});Z("deliveryMethod");let $=async e=>{if(g){j(!0),k(null);try{let s={checkoutLinkId:g.id,quantity:e.quantity,selectedSize:e.selectedSize,deliveryMethod:e.deliveryMethod,buyer:{fullName:e.fullName,phone:e.phone,city:e.city,address:e.address,username:e.username},saveDetails:"yes"===e.saveDetails},t=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create order")}let l=await t.json();if("yes"===e.saveDetails){let r={fullName:e.fullName,phone:e.phone,city:e.city,address:e.address,username:e.username};D(r)}b.push(`/b/${r.sellerSlug}/${r.checkoutSlug}/success?orderId=${l.id}`)}catch(e){k(e.message||"Failed to place order. Please try again."),j(!1)}}};if(y)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-500",children:s("../../common.loading")})]})});if(N&&!g)return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-red-600 mb-4",children:N})})});if(!g)return null;let R=g.deliveryOptions,U=[];return R.courierCity&&U.push({value:"courier_city",label:s("courierCity")}),R.pickup&&U.push({value:"pickup",label:s("pickup")}),R.region&&U.push({value:"region",label:s("regionDelivery")}),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-100",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center gap-3",children:[t.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"p-2 -ml-2 rounded-lg hover:bg-gray-100 transition-colors text-gray-600",children:t.jsx(c,{className:"w-5 h-5"})}),t.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:g.seller.name})]})}),(0,t.jsxs)("main",{className:"max-w-2xl mx-auto px-4 py-6",children:[P&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-blue-800 mb-3",children:s("useSavedDetails")}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{P&&(z("fullName",P.fullName),z("phone",P.phone),z("city",P.city),z("address",P.address),P.username&&z("username",P.username))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:s("useSavedDetails")}),t.jsx("button",{type:"button",onClick:()=>_(),className:"px-4 py-2 bg-white text-blue-600 border border-blue-200 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors",children:"Edit manually"})]}),t.jsx("button",{type:"button",onClick:()=>_(),className:"mt-3 text-xs text-blue-600 hover:underline",children:s("clearSavedDetails")})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[g.imageUrl&&t.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:t.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-full h-64 object-cover",onError:e=>{e.currentTarget.style.display="none"}})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:g.name}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-gray-900 mb-4",children:[g.price.toLocaleString()," ",g.currency]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("quantity")}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>{let e=Math.max(1,w-1);S(e),z("quantity",e)},className:"w-10 h-10 flex items-center justify-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-gray-600 disabled:opacity-50",disabled:w<=1,children:"âˆ’"}),t.jsx("span",{className:"text-lg font-semibold w-12 text-center text-gray-900",children:w}),t.jsx("button",{type:"button",onClick:()=>{let e=g.maxQty?Math.min(g.maxQty,w+1):w+1;S(e),z("quantity",e)},className:"w-10 h-10 flex items-center justify-center border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-gray-600 disabled:opacity-50",disabled:!!g.maxQty&&w>=g.maxQty,children:"+"})]}),g.maxQty&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Maximum: ",g.maxQty]})]}),g.sizes&&g.sizes.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s("selectSize")," *"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:g.sizes.map(e=>(0,t.jsxs)("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"radio",value:e,...M("selectedSize"),className:"peer sr-only"}),t.jsx("div",{className:"px-4 py-2 border-2 border-gray-200 rounded-lg text-sm font-medium text-gray-700 peer-checked:border-blue-500 peer-checked:bg-blue-50 peer-checked:text-blue-700 hover:border-gray-300 transition-colors",children:e})]},e))}),q.selectedSize&&t.jsx("p",{className:"mt-2 text-sm text-red-500",children:q.selectedSize.message})]})]}),(0,t.jsxs)("form",{onSubmit:E($),className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s("deliveryMethod")," *"]}),(0,t.jsxs)("select",{...M("deliveryMethod"),className:h,children:[t.jsx("option",{value:"",children:s("deliveryMethod")}),U.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]}),q.deliveryMethod&&t.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:q.deliveryMethod.message})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-base font-semibold text-gray-900",children:s("contactInfo")}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[s("fullName")," *"]}),t.jsx("input",{type:"text",placeholder:s("fullNamePlaceholder"),...M("fullName"),className:x}),q.fullName&&t.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:q.fullName.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[s("phone")," *"]}),t.jsx("input",{type:"tel",placeholder:s("phonePlaceholder"),...M("phone"),className:x}),q.phone&&t.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:q.phone.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[s("city")," *"]}),(0,t.jsxs)("select",{...M("city"),className:h,children:[t.jsx("option",{value:"",children:s("selectCity")}),u.map(e=>t.jsx("option",{value:e,children:e},e))]}),q.city&&t.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:q.city.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[s("address")," *"]}),t.jsx("textarea",{...M("address"),rows:3,placeholder:s("addressPlaceholder"),className:`${x} resize-none`}),q.address&&t.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:q.address.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:s("telegram")}),t.jsx("input",{type:"text",placeholder:s("telegramPlaceholder"),...M("username"),className:x})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:s("saveDetails")}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3.5 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50/80 transition-colors has-[:checked]:border-blue-300 has-[:checked]:bg-blue-50/30",children:[t.jsx("div",{className:"relative flex items-center justify-center",children:t.jsx("input",{type:"radio",value:"no",...M("saveDetails"),className:"peer w-4 h-4 border border-gray-300 rounded-full appearance-none checked:border-blue-500 checked:border-[5px] transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-100"})}),t.jsx("span",{className:"text-sm text-gray-600",children:s("saveNo")})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3.5 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50/80 transition-colors has-[:checked]:border-blue-300 has-[:checked]:bg-blue-50/30",children:[t.jsx("div",{className:"relative flex items-center justify-center",children:t.jsx("input",{type:"radio",value:"yes",...M("saveDetails"),className:"peer w-4 h-4 border border-gray-300 rounded-full appearance-none checked:border-blue-500 checked:border-[5px] transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-100"})}),t.jsx("span",{className:"text-sm text-gray-600",children:s("saveYes")})]})]})]}),N&&t.jsx("div",{className:"bg-red-50 border border-red-100 rounded-lg p-4",children:t.jsx("p",{className:"text-sm text-red-600",children:N})}),t.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-blue-500/25",children:s(v?"submitting":"submit")})]})]})]})}},425:(e,r,s)=>{"use strict";s.d(r,{rU:()=>o,jD:()=>i,tv:()=>d});var t=s(5750),l=s(4276);let a=(0,t.R)({locales:["en","uz","ru"],defaultLocale:"en",localePrefix:"as-needed"}),{Link:o,redirect:n,usePathname:i,useRouter:d}=(0,l.os)(a)},2881:(e,r,s)=>{"use strict";s.d(r,{Z:()=>i});var t=s(7577);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=(...e)=>e.filter((e,r,s)=>!!e&&s.indexOf(e)===r).join(" ");var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:n="",children:i,iconNode:d,...c},u)=>(0,t.createElement)("svg",{ref:u,...o,width:r,height:r,stroke:e,strokeWidth:l?24*Number(s)/Number(r):s,className:a("lucide",n),...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(i)?i:[i]])),i=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...o},i)=>(0,t.createElement)(n,{ref:i,iconNode:r,className:a(`lucide-${l(e)}`,s),...o}));return s.displayName=`${e}`,s}},9817:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`/Users/otabek/Downloads/Design/Vibe/Cursor/Bog'la for SME's/app/[locale]/(buyer)/b/[sellerSlug]/[checkoutSlug]/page.tsx#default`)},9958:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d,generateStaticParams:()=>i});var t=s(9510),l=s(6042),a=s(5031),o=s(8585),n=s(1555);function i(){return n.DI.locales.map(e=>({locale:e}))}async function d({children:e,params:r}){let{locale:s}=await r;n.DI.locales.includes(s)||(0,o.notFound)();let i=await (0,a.Z)();return t.jsx("html",{lang:s,children:t.jsx("body",{children:t.jsx(l.Z,{messages:i,locale:s,children:e})})})}},1506:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l,metadata:()=>t}),s(7272);let t={title:"Bog'la for SME's",description:"Payment links and order management for small businesses"};function l({children:e}){return e}},6013:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});var t=s(107),l=s(1555);let a=(0,t.Z)(async({requestLocale:e})=>{let r=await e;return r&&l.DI.locales.includes(r)||(r=l.DI.defaultLocale),{locale:r,messages:(await s(7713)(`./${r}.json`)).default}})},1555:(e,r,s)=>{"use strict";s.d(r,{DI:()=>a});var t=s(8952),l=s(4352);let a=(0,t.R)({locales:["en","uz","ru"],defaultLocale:"en",localePrefix:"as-needed"}),{Link:o,redirect:n,usePathname:i,useRouter:d}=(0,l.Z)(a)},7272:()=>{}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[276,49,964,148],()=>s(7022));module.exports=t})();